{% extends '@!NelmioApiDoc/SwaggerUi/index.html.twig' %}

{% block stylesheets %}
	{{ nelmioAsset(assets_mode, 'swagger-ui/swagger-ui.css') }}
	{{ nelmioAsset(assets_mode, 'style.css') }}
	<style>
        #swagger-ui .swagger-ui .markdown code, .swagger-ui .renderedMarkdown code {
            background: rgb(255 0 0 / 5%);
            border-radius: 4px;
            color: #ff3c3c;
            font-family: monospace;
            font-size: unset;
            font-weight: 600;
            padding: 0 4px;
        }
		#swagger-ui .opblock-summary-control {
			margin-right: 1em;
		}
        #swagger-ui pre.microlight {
            display: flex !important;
            flex-direction: column;
        }
        #swagger-ui code.language-json {
            margin: auto 0;
        } 
	</style>
{% endblock stylesheets %}

{% block swagger_initialization %}
	<script type="text/javascript">
		(function () {
            var swaggerUI = {{ swagger_ui_config|json_encode(65)|raw }};
            var additionalConfig = {
                deepLinking: true
            };
            window.onload = loadSwaggerUI(Object.assign(swaggerUI, additionalConfig));
        })();
        (function() {
            const modelsSection = document.querySelector('#swagger-ui > section.swagger-ui div.wrapper > section.block > section.models');
            const button = modelsSection.querySelector('.models-control');
            const arrowIcon = button.querySelector('use');
            const data = modelsSection.querySelector('.no-margin');

            data.innerHTML = '';
            arrowIcon.setAttribute('xlink:href', '#large-arrow-down');
            modelsSection.classList.remove('is-open');
            button.setAttribute('aria-expanded', 'false');
        })();
	</script>
{% endblock swagger_initialization %}
